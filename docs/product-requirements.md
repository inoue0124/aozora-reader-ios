# プロダクト要求定義書（PRD）: 青空文庫リーダー

## 1. プロダクト概要

- **目的**: 青空文庫作品を iPhone で快適に検索・閲覧できる読書体験を提供する
- **ターゲット**: 通勤・就寝前に読書するユーザー、日本文学読者
- **MVP 対象**: iOS 17+ / SwiftUI + MVVM

### 解決したい課題
- モバイルで青空文庫を読む導線が分かりにくい
- 検索→閲覧→再開（しおり）がスムーズでない
- お気に入り管理が弱い

## 2. ユーザーストーリー

### Must
1. タイトルで作品検索したい
2. 著者名で作品検索したい
3. 作品詳細（タイトル/著者/概要）を見たい
4. 本文を縦スクロールで読みたい
5. 読書位置を保存して再開したい
6. お気に入り登録/解除したい

### Should
1. ルビを読みやすく表示したい
2. 著作権・出典情報を確認したい

### Could（次フェーズ）
1. オフライン保存
2. フォントサイズ/行間/テーマ調整

## 3. 画面フロー

- 作品検索画面
  - 作品詳細画面
    - 読書画面
- お気に入り一覧画面
  - 作品詳細画面

## 4. 機能要件（MVP）

### FR-001 作品検索
- タイトル/著者で検索
- 結果一覧表示
- 0件時の空状態表示

### FR-002 作品詳細
- タイトル・著者・概要・出典を表示
- お気に入り操作
- 「読む」導線

### FR-003 本文表示
- 本文取得・表示（縦スクロール）
- ルビ・注記の最低限整形

### FR-004 しおり
- 読書位置の自動保存
- 再度開いたとき同位置から再開

### FR-005 お気に入り
- 追加/削除
- 一覧表示

## 5. 非機能要件

- 起動体感が遅くないこと
- 読書画面でスクロールが滑らかであること
- オフライン時に明確なエラーメッセージを出す
- 通信は HTTPS のみ

## 6. 外部依存

- 青空文庫関連 API / データ提供元
- 作品本文 URL（text/html）

### TODO（要調査）
- 取得元をどこに統一するか（Aozora API / 青空文庫データ直）
- 利用規約・出典表記の要件
- ルビ・外字・注記のパーサー方針

## 7. 受け入れ条件

1. タイトル検索で該当作品が表示される
2. 著者検索で該当作品が表示される
3. 作品詳細が正しく表示される
4. 本文が表示され、スクロール読書できる
5. しおり保存/再開ができる
6. お気に入り登録/解除ができる

## 8. スコープ外（MVP）

- アカウント同期
- iPad/macOS 対応
- 課金/広告
- SNS共有
- 多言語対応
